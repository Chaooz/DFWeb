@using DarkFactorCoreNet.Models
@model PageContentModel

@if  (Model.ImageList != null )
{
    <div class="article" style="width:100%">
    <h2>IMAGES</h2>
    @foreach( var imageModel in Model.ImageList)
    {    
        @if ( Model.IsEdit == true )
        {
            <div> @imageModel.Filename
                <form  method='POST' action="/api/Image/DeleteImage" style='display: inline;'>
                        <input type='hidden' name='pageId' value='@Model.ID'>
                        <input type='hidden' name='imageId' value='@imageModel.Id'>
                        <input type='submit' value='X'>
                </form>
            </div>
        }
            <div>
                <center><a href="/page?id=@Model.ID"><img width=100% height=100% src="data:image/png;base64,@imageModel.Filedata"></a></center>
            </div>
    }
    @if (Model.ImageList.Count == 0 && Model.IsEdit == true)
    {
            <form  method='POST' action="/api/Image/AddImage" enctype="multipart/form-data" style='display: inline;'>
                <input type='hidden' name='pageId' value='@Model.ID'>
                <input type="file" name="files" />
                <input type='submit' value='Upload'>
            </form>
    }
    </div>

}
